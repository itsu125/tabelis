<%= link_to shop_path(shop),
            class: "block bg-t-light-header border border-t-border rounded-xl shadow hover:shadow-xl transition overflow-hidden" do %>
  <div class="flex w-full">

    <!-- 画像エリア -->
    <div class="w-2/5 h-28 flex-shrink-0 border-r border-t-border bg-cover bg-center"
         style="background-image: url('<%= shop.image.attached? ? url_for(shop.image) : asset_path("no_image.png") %>')">
    </div>

    <!-- テキストエリア -->
    <div class="w-3/5 p-3 flex flex-col justify-between">
      <div>
        <h3 class="text-lg font-bold text-t-dark mb-1">
          <%= shop.name %>
        </h3>

        <div class="text-sm text-t-text-mid opacity-80">
          <%= shop.address.presence || "住所未登録" %>
        </div>
        <div class="text-yellow-400 text-lg font-bold flex">
          <% 5.times do |i| %>
            <% if shop.rating.to_i >= i + 1 %>
              <!-- 黒星 -->
              <span class="text-t-primary">★</span>
            <% else %>
              <!-- 白星 -->
              <span class="text-gray-300">★</span>
            <% end %>
          <% end %>
        </div>
      </div>

      <!-- ステータス (行きたい / 行った) -->
      <div class="flex justify-end mt-1">
        <% if shop.want? %>
          <span class="px-2 py-0.5 text-xs font-medium bg-yellow-100 border border-yellow-400 text-amber-800 rounded-full">
            行きたい
          </span>
        <% else %>
          <span class="px-2 py-0.5 text-xs font-medium bg-green-100 border border-green-400 text-green-800 rounded-full">
            行った
          </span>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
